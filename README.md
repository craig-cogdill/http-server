# http-server


TODO:
- Investigate the newline printed in POST/GET
- Make the Accept call blocking
- Remove all mocked system calls, or unit test ProcessRequest
- Remove the sleep from the while loop
- Check all code for places where const or pass-by-reference could be used
- Remove virtual functionality from functions that do not need it in MockHttpServer and MockHttpRequest
- Flesh out the README

How to build and run:
- Listening for connections on port 8000

Design Decisions:
- Easy to build and run
- Use only C code and the C++ STL for production code
- As few external dependencies as possible
    - Only googletest is brought in, for unit testing
- High reusability for future applications
- Maximum code coverage through unit tests
- Show what I know
    - Have not used GMock, so instead used a handmade inheritance Mock model for unit testing
    - Built for Linux which is what I have programmed for before (and only have access to at home)
- Socket is non-blocking, so that the program can be interrupted. Otherwise, calls to Accept() would effectively starve main until the next connection is accepted

Coding Goals:
- No raw pointers, unless unavoidable
- Don't throw, unless necessary
- As few comments as possible
    - Code should explain itself, and reserve comments for tricky, unintuitive sections, or to break
    up longer code sections
- Readability in favor of brevity

Assumptions:
- Data transfers of no more than 1MB are possible. This is clearly not a reasonable assumption for an actual HTTP Server. For the sake of this project, it seems an appropriate amount of data to cache in memory if we handle a hundred or so requests.
- Each string in the first line of the request is separated by a single space
- Any request that doesn't specify HTTP version 1.1 is invalid
- Request will be generated by a valid HTTP client
    - Header strings with malformed such as "Content-Length= 8" or "Content-Length:8" will not be used
    - Header strings with mismatched key-values such as "Conten-Length: eighteen" will not be used
    - Headers will not be duplicated. I.E. having multiple "Content-Length" headers specified in one request